(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{118:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(25),s=a.n(r),c=a(7),i=a(52),o=a(79),d=a(80),l=a(18);const j="PRODUCT_LIST_REQUEST",b="PRODUCT_LIST_SUCCESS",p="PRODUCT_LIST_FAIL",h="PRODUCT_DETAILS_REQUEST",O="PRODUCT_DETAILS_SUCCESS",u="PRODUCT_DETAILS_FAIL",x="PRODUCT_DELETE_REQUEST",m="PRODUCT_DELETE_SUCCESS",g="PRODUCT_DELETE_FAIL",y="PRODUCT_CREATE_REQUEST",f="PRODUCT_CREATE_SUCCESS",v="PRODUCT_CREATE_FAIL",E="PRODUCT_CREATE_RESET",S="PRODUCT_UPDATE_REQUEST",I="PRODUCT_UPDATE_SUCCESS",C="PRODUCT_UPDATE_FAIL",_="PRODUCT_UPDATE_RESET",R="PRODUCT_CREATE_REVIEW_REQUEST",L="PRODUCT_CREATE_REVIEW_SUCCESS",w="PRODUCT_CREATE_REVIEW_FAIL",A="PRODUCT_CREATE_REVIEW_RESET",k="PRODUCT_TOP_REQUEST",T="PRODUCT_TOP_SUCCESS",P="PRODUCT_TOP_FAIL",D="CART_ADD_ITEM",U="CART_REMOVE_ITEM",N="CART_SAVE_SHIPPING_ADDRESS",F="CART_SAVE_PAYMENT_METHOD",G="CART_CLEAR_ITEMS",z="USER_LOGIN_REQUEST",B="USER_LOGIN_SUCCESS",M="USER_LOGIN_FAIL",Q="USER_LOGOUT",Y="USER_REGISTER_REQUEST",q="USER_REGISTER_SUCCESS",$="USER_REGISTER_FAIL",V="USER_DETAILS_REQUEST",J="USER_DETAILS_SUCCESS",H="USER_DETAILS_FAIL",W="USER_DETAILS_RESET",X="USER_UPDATE_PROFILE_REQUEST",K="USER_UPDATE_PROFILE_SUCCESS",Z="USER_UPDATE_PROFILE_FAIL",ee="USER_UPDATE_PROFILE_RESET",te="USER_LIST_REQUEST",ae="USER_LIST_SUCCESS",ne="USER_LIST_FAIL",re="USER_LIST_RESET",se="USER_DELETE_REQUEST",ce="USER_DELETE_SUCCESS",ie="USER_DELETE_FAIL",oe="USER_UPDATE_REQUEST",de="USER_UPDATE_SUCCESS",le="USER_UPDATE_FAIL",je="USER_UPDATE_RESET",be="ORDER_CREATE_REQUEST",pe="ORDER_CREATE_SUCCESS",he="ORDER_CREATE_FAIL",Oe="ORDER_CREATE_RESET",ue="ORDER_DETAILS_REQUEST",xe="ORDER_DETAILS_SUCCESS",me="ORDER_DETAILS_FAIL",ge="ORDER_PAY_REQUEST",ye="ORDER_PAY_SUCCESS",fe="ORDER_PAY_FAIL",ve="ORDER_PAY_RESET",Ee="ORDER_LIST_MY_REQUEST",Se="ORDER_LIST_MY_SUCCESS",Ie="ORDER_LIST_MY_FAIL",Ce="ORDER_LIST_MY_RESET",_e="ORDER_LIST_REQUEST",Re="ORDER_LIST_SUCCESS",Le="ORDER_LIST_FAIL",we="ORDER_DELIVER_REQUEST",Ae="ORDER_DELIVER_SUCCESS",ke="ORDER_DELIVER_FAIL",Te="ORDER_DELIVER_RESET",Pe=Object(i.combineReducers)({cart:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:{const a=t.payload,n=e.cartItems.find((e=>e.product===a.product));return n?Object(l.a)(Object(l.a)({},e),{},{cartItems:e.cartItems.map((e=>e.product===n.product?a:e))}):Object(l.a)(Object(l.a)({},e),{},{cartItems:[...e.cartItems,a]})}case U:return Object(l.a)(Object(l.a)({},e),{},{cartItems:e.cartItems.filter((e=>e.product!==t.payload))});case N:return Object(l.a)(Object(l.a)({},e),{},{shippingAddress:t.payload});case F:return Object(l.a)(Object(l.a)({},e),{},{paymentMethod:t.payload});case G:return Object(l.a)(Object(l.a)({},e),{},{cartItems:[]});default:return e}},productList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case j:return{loading:!0,products:[]};case b:return{loading:!1,products:t.payload.products,page:t.payload.page,pages:t.payload.pages};case p:return{loading:!1,error:t.payload};default:return e}},productDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case h:return Object(l.a)({loading:!0},e);case O:return{loading:!1,product:t.payload};case u:return{loading:!1,error:t.payload};default:return e}},productDelete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return{loading:!0};case m:return{loading:!1,success:!0};case g:return{loading:!1,error:t.payload};default:return e}},productCreate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:return{loading:!0};case f:return{loading:!1,success:!0,product:t.payload};case v:return{loading:!1,error:t.payload};case E:return{};default:return e}},productUpdate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{product:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case S:return{loading:!0};case I:return{loading:!1,success:!0,product:t.payload};case C:return{loading:!1,error:t.payload};case _:return{product:{}};default:return e}},productReviewCreate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return{loading:!0};case L:return{loading:!1,success:!0};case w:return{loading:!1,error:t.payload};case A:return{};default:return e}},productTopRated:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{products:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:return{loading:!0,products:[]};case T:return{loading:!1,products:t.payload};case P:return{loading:!1,error:t.payload};default:return e}},userLogin:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case z:return{loading:!0};case B:return{loading:!1,userInfo:t.payload};case M:return{loading:!1,error:t.payload};case Q:return{};default:return e}},userRegister:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:return{loading:!0};case q:return{loading:!1,userInfo:t.payload};case $:return{loading:!1,error:t.payload};case Q:return{};default:return e}},userDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case V:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case J:return{loading:!1,user:t.payload};case H:return{loading:!1,error:t.payload};case W:return{user:{}};default:return e}},userUpdateProfle:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case X:return{loading:!0};case K:return{loading:!1,success:!0,user:t.payload};case Z:return{loading:!1,error:t.payload};case ee:return{};default:return e}},userList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{users:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case te:return{loading:!0};case ae:return{loading:!1,users:t.payload};case ne:return{loading:!1,error:t.payload};case re:return{users:[]};default:return e}},userDelete:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case se:return{loading:!0};case ce:return{loading:!1,success:!0};case ie:return{loading:!1,error:t.payload};default:return e}},userUpdate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case oe:return{loading:!0};case de:return{loading:!1,success:!0};case le:return{loading:!1,error:t.payload};case je:return{user:{}};default:return e}},orderCreate:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case be:return{loading:!0};case pe:return{loading:!1,success:!0,order:t.payload};case he:return{loading:!1,error:t.payload};case Oe:return{};default:return e}},orderDetails:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{loading:!0,orderItems:[],shippingAddress:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ue:return Object(l.a)(Object(l.a)({},e),{},{loading:!0});case xe:return{loading:!1,order:t.payload};case me:return{loading:!1,error:t.payload};default:return e}},orderPay:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ge:return{loading:!0};case ye:return{loading:!1,success:!0};case fe:return{loading:!1,error:t.payload};case ve:return{};default:return e}},orderListMy:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Ee:return{loading:!0};case Se:return{loading:!1,orders:t.payload};case Ie:return{loading:!1,error:t.payload};case Ce:return{orders:[]};default:return e}},orderList:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{orders:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case _e:return{loading:!0};case Re:return{loading:!1,orders:t.payload};case Le:return{loading:!1,error:t.payload};default:return e}},orderDeliver:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case we:return{loading:!0};case Ae:return{loading:!1,success:!0};case ke:return{loading:!1,error:t.payload};case Te:return{};default:return e}}}),De=localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[],Ue=localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):null,Ne={cart:{cartItems:De,shippingAddress:localStorage.getItem("shippingAddress")?JSON.parse(localStorage.getItem("shippingAddress")):{}},userLogin:{userInfo:Ue}},Fe=[o.a];var Ge=Object(i.createStore)(Pe,Ne,Object(d.composeWithDevTools)(Object(i.applyMiddleware)(...Fe))),ze=a(125),Be=a(15),Me=a(136),Qe=a(137),Ye=a(132),qe=a(126),$e=a(14),Ve=a(11),Je=a.n(Ve);const He=e=>async(t,a)=>{try{t({type:V});const{userLogin:{userInfo:n}}=a(),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},{data:s}=await Je.a.get("/api/users/".concat(e,"/"),r);t({type:J,payload:s})}catch(n){t({type:H,payload:n.response&&n.response.data.detail?n.response.data.detail:n.message})}};var We,Xe=a(20),Ke=a(16),Ze=a(134),et=a(84),tt=a(17),at=a(0);const nt=Object(Ke.a)(Ze.a)(We||(We=Object(Be.a)(["\n  display: flex;\n  width: 100%;\n  \n  .form-control {\n    background-color: rgba(255, 255, 255, 0.1);\n    border: none;\n    color: #fff;\n    padding: 0.75rem 1rem;\n    font-size: 0.95rem;\n    border-radius: 8px 0 0 8px;\n    transition: all 0.3s ease;\n\n    &::placeholder {\n      color: #adb5bd;\n    }\n\n    &:focus {\n      background-color: rgba(255, 255, 255, 0.15);\n      box-shadow: none;\n      color: #fff;\n    }\n  }\n\n  .btn {\n    background-color: rgba(255, 255, 255, 0.1);\n    border: none;\n    color: #fff;\n    padding: 0.75rem 1.25rem;\n    border-radius: 0 8px 8px 0;\n    transition: all 0.3s ease;\n\n    &:hover {\n      background-color: rgba(255, 255, 255, 0.2);\n      color: #fff;\n    }\n\n    &:focus {\n      box-shadow: none;\n    }\n  }\n"])));var rt,st,ct,it,ot,dt,lt=function(){const[e,t]=Object(n.useState)(""),a=Object(tt.k)();return Object(at.jsxs)(nt,{onSubmit:t=>{t.preventDefault(),e.trim()?a.push("/?keyword=".concat(e,"&page=1")):a.push(a.location.pathname)},children:[Object(at.jsx)(Ze.a.Control,{type:"text",name:"q",onChange:e=>t(e.target.value),placeholder:"Search products..."}),Object(at.jsx)(et.a,{type:"submit",children:Object(at.jsx)(Xe.g,{})})]})},jt=a.p+"static/media/logo.67474966.png";const bt=Object(Ke.a)(Me.a)(rt||(rt=Object(Be.a)(["\n  background-color: #343a40;\n  padding: 1rem 0;\n  box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);\n"]))),pt=Object(Ke.a)(Me.a.Brand)(st||(st=Object(Be.a)(["\n  padding: 0;\n  margin-right: 2rem;\n  transition: all 0.3s ease;\n\n  &:hover {\n    transform: translateY(-2px);\n  }\n\n  img {\n    height: 40px;\n  }\n"]))),ht=Object(Ke.a)(Qe.a.Link)(ct||(ct=Object(Be.a)(["\n  color: #adb5bd !important;\n  font-weight: 500;\n  padding: 0.5rem 1rem !important;\n  transition: all 0.3s ease;\n  position: relative;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n\n  &:hover {\n    color: #fff !important;\n    transform: translateY(-2px);\n  }\n\n  &.active {\n    color: #fff !important;\n    &::after {\n      content: '';\n      position: absolute;\n      bottom: 0;\n      left: 50%;\n      transform: translateX(-50%);\n      width: 20px;\n      height: 2px;\n      background-color: #fff;\n      border-radius: 2px;\n    }\n  }\n"]))),Ot=Ke.a.div(it||(it=Object(Be.a)(["\n  position: relative;\n  display: flex;\n  align-items: center;\n  gap: 0.5rem;\n  \n  .cart-badge {\n    position: absolute;\n    top: -8px;\n    right: -8px;\n    background-color: #dc3545;\n    color: white;\n    border-radius: 50%;\n    padding: 0.25rem 0.5rem;\n    font-size: 0.75rem;\n    font-weight: bold;\n  }\n"]))),ut=Ke.a.div(ot||(ot=Object(Be.a)(["\n  flex-grow: 1;\n  max-width: 500px;\n  margin: 0 2rem;\n\n  @media (max-width: 991px) {\n    margin: 1rem 0;\n    max-width: 100%;\n  }\n"]))),xt=Object(Ke.a)(Ye.a)(dt||(dt=Object(Be.a)(["\n  .dropdown-toggle {\n    color: #adb5bd !important;\n    font-weight: 500;\n    padding: 0.5rem 1rem !important;\n    transition: all 0.3s ease;\n\n    &:hover {\n      color: #fff !important;\n    }\n\n    &::after {\n      display: none;\n    }\n  }\n\n  .dropdown-menu {\n    background-color: #343a40;\n    border: none;\n    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);\n    border-radius: 8px;\n    padding: 0.5rem;\n    margin-top: 0.5rem;\n  }\n\n  .dropdown-item {\n    color: #adb5bd;\n    padding: 0.5rem 1rem;\n    border-radius: 4px;\n    transition: all 0.3s ease;\n\n    &:hover {\n      background-color: rgba(255, 255, 255, 0.1);\n      color: #fff;\n    }\n\n    &.active {\n      background-color: rgba(255, 255, 255, 0.1);\n      color: #fff;\n    }\n  }\n"])));var mt,gt,yt,ft,vt,Et=()=>{const e=Object(c.c)((e=>e.userLogin)),{userInfo:t}=e,a=Object(c.c)((e=>e.cart)),{cartItems:n}=a,r=Object(c.b)();return Object(at.jsx)(bt,{expand:"lg",collapseOnSelect:!0,children:Object(at.jsxs)(ze.a,{children:[Object(at.jsx)($e.LinkContainer,{to:"/",children:Object(at.jsx)(pt,{children:Object(at.jsx)("img",{src:jt,alt:"CloudKiddie"})})}),Object(at.jsx)(Me.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(at.jsxs)(Me.a.Collapse,{id:"basic-navbar-nav",children:[Object(at.jsx)(ut,{children:Object(at.jsx)(lt,{})}),Object(at.jsxs)(Qe.a,{className:"ms-auto align-items-center",children:[Object(at.jsx)($e.LinkContainer,{to:"/cart",children:Object(at.jsx)(ht,{children:Object(at.jsxs)(Ot,{children:[Object(at.jsx)(Xe.h,{}),n.length>0&&Object(at.jsx)(qe.a,{className:"cart-badge",children:n.length}),Object(at.jsx)("span",{children:"Cart"})]})})}),Object(at.jsx)($e.LinkContainer,{to:"/wishlist",children:Object(at.jsxs)(ht,{children:[Object(at.jsx)(Xe.c,{}),Object(at.jsx)("span",{children:"Wishlist"})]})}),t?Object(at.jsxs)(xt,{title:Object(at.jsxs)("span",{className:"d-flex align-items-center",children:[Object(at.jsx)(Xe.j,{}),Object(at.jsx)("span",{className:"ms-2",children:t.name})]}),id:"username",children:[Object(at.jsx)($e.LinkContainer,{to:"/profile",children:Object(at.jsx)(Ye.a.Item,{children:"Profile"})}),t.isAdmin&&Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)($e.LinkContainer,{to:"/admin/userlist",children:Object(at.jsx)(Ye.a.Item,{children:"Users"})}),Object(at.jsx)($e.LinkContainer,{to:"/admin/productlist",children:Object(at.jsx)(Ye.a.Item,{children:"Products"})}),Object(at.jsx)($e.LinkContainer,{to:"/admin/orderlist",children:Object(at.jsx)(Ye.a.Item,{children:"Orders"})})]}),Object(at.jsx)(Ye.a.Divider,{}),Object(at.jsx)(Ye.a.Item,{onClick:()=>{r((e=>{localStorage.removeItem("userInfo"),e({type:Q}),e({type:W}),e({type:Ce}),e({type:re})}))},children:"Logout"})]}):Object(at.jsx)($e.LinkContainer,{to:"/login",children:Object(at.jsxs)(ht,{children:[Object(at.jsx)(Xe.j,{}),Object(at.jsx)("span",{children:"Sign In"})]})})]})]})]})})},St=a(127),It=a(83),Ct=a(10);const _t=Ke.a.footer(mt||(mt=Object(Be.a)(["\n  background-color: #343a40;\n  color: #fff;\n  padding: 3rem 0 1.5rem;\n  margin-top: 4rem;\n"]))),Rt=Ke.a.h5(gt||(gt=Object(Be.a)(["\n  color: #fff;\n  font-weight: 600;\n  margin-bottom: 1.5rem;\n  font-size: 1.1rem;\n"]))),Lt=Object(Ke.a)(Ct.Link)(yt||(yt=Object(Be.a)(["\n  color: #adb5bd;\n  text-decoration: none;\n  display: block;\n  margin-bottom: 0.75rem;\n  transition: all 0.3s ease;\n  font-size: 0.95rem;\n\n  &:hover {\n    color: #fff;\n    transform: translateX(5px);\n  }\n"]))),wt=Ke.a.a(ft||(ft=Object(Be.a)(["\n  color: #adb5bd;\n  font-size: 1.25rem;\n  margin-right: 1rem;\n  transition: all 0.3s ease;\n\n  &:hover {\n    color: #fff;\n    transform: translateY(-3px);\n  }\n"]))),At=Ke.a.div(vt||(vt=Object(Be.a)(["\n  border-top: 1px solid rgba(255, 255, 255, 0.1);\n  margin-top: 2rem;\n  padding-top: 1.5rem;\n  text-align: center;\n  color: #adb5bd;\n  font-size: 0.9rem;\n"])));var kt,Tt,Pt,Dt,Ut,Nt,Ft,Gt,zt=()=>{const e=(new Date).getFullYear();return Object(at.jsx)(_t,{children:Object(at.jsxs)(ze.a,{children:[Object(at.jsxs)(St.a,{children:[Object(at.jsxs)(It.a,{md:3,className:"mb-4",children:[Object(at.jsx)(Rt,{children:"About Us"}),Object(at.jsx)("p",{style:{color:"#adb5bd",fontSize:"0.95rem"},children:"We provide innovative e-commerce solutions to help businesses grow and succeed in the digital marketplace."}),Object(at.jsxs)("div",{className:"mt-3",children:[Object(at.jsx)(wt,{href:"https://github.com/kietnt255",target:"_blank",rel:"noopener noreferrer",children:Object(at.jsx)(Xe.b,{})}),Object(at.jsx)(wt,{href:"https://twitter.com",target:"_blank",rel:"noopener noreferrer",children:Object(at.jsx)(Xe.i,{})}),Object(at.jsx)(wt,{href:"https://www.linkedin.com/in/kietngo255/",target:"_blank",rel:"noopener noreferrer",children:Object(at.jsx)(Xe.d,{})}),Object(at.jsx)(wt,{href:"mailto:kietngo255@gmail.com",children:Object(at.jsx)(Xe.a,{})})]})]}),Object(at.jsxs)(It.a,{md:3,className:"mb-4",children:[Object(at.jsx)(Rt,{children:"Quick Links"}),Object(at.jsx)(Lt,{to:"/",children:"Home"}),Object(at.jsx)(Lt,{to:"/products",children:"Products"}),Object(at.jsx)(Lt,{to:"/categories",children:"Categories"}),Object(at.jsx)(Lt,{to:"/about",children:"About Us"}),Object(at.jsx)(Lt,{to:"/contact",children:"Contact"})]}),Object(at.jsxs)(It.a,{md:3,className:"mb-4",children:[Object(at.jsx)(Rt,{children:"Customer Service"}),Object(at.jsx)(Lt,{to:"/faq",children:"FAQ"}),Object(at.jsx)(Lt,{to:"/shipping",children:"Shipping Information"}),Object(at.jsx)(Lt,{to:"/returns",children:"Returns & Refunds"}),Object(at.jsx)(Lt,{to:"/privacy",children:"Privacy Policy"}),Object(at.jsx)(Lt,{to:"/terms",children:"Terms & Conditions"})]}),Object(at.jsxs)(It.a,{md:3,className:"mb-4",children:[Object(at.jsx)(Rt,{children:"Newsletter"}),Object(at.jsx)("p",{style:{color:"#adb5bd",fontSize:"0.95rem"},children:"Subscribe to our newsletter for updates and exclusive offers."}),Object(at.jsx)("form",{className:"mt-3",children:Object(at.jsxs)("div",{className:"input-group",children:[Object(at.jsx)("input",{type:"email",className:"form-control",placeholder:"Enter your email",style:{backgroundColor:"rgba(255, 255, 255, 0.1)",border:"none",color:"#fff",fontSize:"0.95rem"}}),Object(at.jsx)("button",{className:"btn btn-outline-light",type:"submit",style:{fontSize:"0.95rem"},children:"Subscribe"})]})})]})]}),Object(at.jsx)(At,{children:Object(at.jsxs)("p",{className:"mb-0",children:["\xa9 ",e," Your E-commerce Store. All rights reserved. Made with"," ",Object(at.jsx)(Xe.c,{style:{color:"#dc3545",fontSize:"0.9rem"}})," by"," ",Object(at.jsx)("a",{href:"https://cloudkiddie.me",target:"_blank",rel:"noopener noreferrer",style:{color:"#fff",textDecoration:"none"},children:"CloudKiddie"})]})})]})})},Bt=a(133),Mt=a(129),Qt=a(128);function Yt(e){let{variant:t,children:a}=e;return Object(at.jsx)(Qt.a,{variant:t,children:a})}const qt=Object(Ke.b)(kt||(kt=Object(Be.a)(["\n  0% { transform: scale(1); }\n  50% { transform: scale(1.05); }\n  100% { transform: scale(1); }\n"]))),$t=Object(Ke.a)(et.a)(Tt||(Tt=Object(Be.a)(["\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  width: 65px;\n  height: 65px;\n  border-radius: 50%;\n  background: linear-gradient(135deg, #495057 0%, #343a40 100%);\n  border: none;\n  box-shadow: 0 4px 15px rgba(73, 80, 87, 0.3);\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  z-index: 1000;\n  transition: all 0.3s ease;\n  \n  &:hover {\n    background: linear-gradient(135deg, #343a40 0%, #212529 100%);\n    transform: translateY(-2px);\n    box-shadow: 0 6px 20px rgba(73, 80, 87, 0.4);\n    animation: "," 2s infinite;\n  }\n\n  svg {\n    transition: transform 0.3s ease;\n    width: 32px;\n    height: 32px;\n  }\n\n  &:hover svg {\n    transform: rotate(10deg) scale(1.1);\n  }\n"])),qt),Vt=Object(Ke.a)(Bt.a)(Pt||(Pt=Object(Be.a)(["\n  .modal-content {\n    border-radius: 20px;\n    border: none;\n    box-shadow: 0 10px 30px rgba(52, 58, 64, 0.15);\n    overflow: hidden;\n  }\n"]))),Jt=Object(Ke.a)(Bt.a.Header)(Dt||(Dt=Object(Be.a)(["\n  background: #343a40;\n  color: white;\n  border-radius: 20px 20px 0 0;\n  padding: 1.2rem;\n  position: relative;\n  \n  .close {\n    position: absolute;\n    right: 1rem;\n    top: 50%;\n    transform: translateY(-50%);\n    color: white;\n    opacity: 0.8;\n    transition: all 0.3s ease;\n    background: rgba(255, 255, 255, 0.1);\n    border-radius: 50%;\n    width: 32px;\n    height: 32px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border: none;\n    padding: 0;\n    \n    &:hover {\n      opacity: 1;\n      background: rgba(255, 255, 255, 0.2);\n      transform: translateY(-50%) rotate(90deg);\n    }\n\n    &:focus {\n      box-shadow: none;\n      outline: none;\n    }\n  }\n\n  .modal-title {\n    display: flex;\n    align-items: center;\n    font-weight: 600;\n    font-size: 1.2rem;\n    gap: 0.5rem;\n\n    svg {\n      color: #adb5bd;\n      transition: transform 0.3s ease;\n    }\n\n    &:hover svg {\n      transform: rotate(15deg);\n    }\n  }\n"]))),Ht=Object(Ke.a)(Bt.a.Body)(Ut||(Ut=Object(Be.a)(["\n  height: 400px;\n  overflow-y: auto;\n  padding: 20px;\n  background: linear-gradient(180deg, #f8fafc 0%, #f1f5f9 100%);\n  \n  &::-webkit-scrollbar {\n    width: 6px;\n  }\n  \n  &::-webkit-scrollbar-track {\n    background: #f1f5f9;\n  }\n  \n  &::-webkit-scrollbar-thumb {\n    background: #cbd5e1;\n    border-radius: 3px;\n  }\n"]))),Wt=Ke.a.div(Nt||(Nt=Object(Be.a)(["\n  margin-bottom: 15px;\n  max-width: 80%;\n  padding: 12px 18px;\n  border-radius: 18px;\n  font-size: 0.95rem;\n  line-height: 1.4;\n  box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);\n  transition: all 0.3s ease;\n  \n  ","\n  \n  &:hover {\n    transform: translateY(-1px);\n    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.08);\n  }\n"])),(e=>e.isUser?"\n    margin-left: auto;\n    background: #343a40;\n    color: white;\n    border-bottom-right-radius: 4px;\n  ":"\n    margin-right: auto;\n    background: white;\n    color: #343a40;\n    border-bottom-left-radius: 4px;\n    border: 1px solid #e2e8f0;\n  ")),Xt=Object(Ke.a)(Bt.a.Footer)(Ft||(Ft=Object(Be.a)(["\n  border-top: 1px solid #e2e8f0;\n  padding: 15px 20px;\n  background: white;\n"]))),Kt=Object(Ke.a)(Ze.a)(Gt||(Gt=Object(Be.a)(["\n  .form-control {\n    border-radius: 12px;\n    border: 1px solid #e2e8f0;\n    padding: 12px 15px;\n    font-size: 0.95rem;\n    transition: all 0.3s ease;\n    \n    &:focus {\n      border-color:rgb(64, 74, 84);\n      box-shadow: 0 0 0 3px rgba(52, 58, 64, 0.1);\n    }\n  }\n  \n  .btn {\n    border-radius: 12px;\n    padding: 12px 20px;\n    background: #343a40;\n    border: none;\n    transition: all 0.3s ease;\n    \n    &:hover {\n      background: #23272b;\n      transform: translateY(-1px);\n    }\n    \n    &:disabled {\n      background: #adb5bd;\n      transform: none;\n    }\n\n    svg {\n      transition: transform 0.3s ease;\n    }\n\n    &:hover svg {\n      transform: translateX(2px);\n    }\n  }\n"])));var Zt=()=>{const[e,t]=Object(n.useState)(!1),[a,r]=Object(n.useState)([{text:"Hello! I'm your AI assistant. How can I help you today?",isUser:!1}]),[s,c]=Object(n.useState)(""),[i,o]=Object(n.useState)(!1),[d,l]=Object(n.useState)(null);return Object(at.jsxs)(at.Fragment,{children:[Object(at.jsx)($t,{onClick:()=>t(!0),children:Object(at.jsx)(Xe.f,{color:"white"})}),Object(at.jsxs)(Vt,{show:e,onHide:()=>t(!1),centered:!0,children:[Object(at.jsx)(Jt,{closeButton:!0,children:Object(at.jsxs)(Bt.a.Title,{children:[Object(at.jsx)(Xe.f,{size:28,className:"me-2"}),"AI Assistant"]})}),Object(at.jsxs)(Ht,{children:[d&&Object(at.jsx)(Yt,{variant:"danger",children:d}),a.map(((e,t)=>Object(at.jsx)(Wt,{isUser:e.isUser,children:e.text},t))),i&&Object(at.jsx)(Wt,{isUser:!1,children:Object(at.jsxs)("div",{className:"d-flex align-items-center",children:[Object(at.jsx)("div",{className:"spinner-border spinner-border-sm me-2",role:"status",children:Object(at.jsx)("span",{className:"visually-hidden",children:"Loading..."})}),"Thinking..."]})})]}),Object(at.jsx)(Xt,{children:Object(at.jsx)(Kt,{onSubmit:async e=>{if(e.preventDefault(),s.trim()){r((e=>[...e,{text:s,isUser:!0}])),o(!0),l(null);try{const{data:e}=await Je.a.post("/api/chat/",{message:s});r((t=>[...t,{text:e.response,isUser:!1}]))}catch(d){var t,a;l((null===(t=d.response)||void 0===t||null===(a=t.data)||void 0===a?void 0:a.message)||"Error getting response from AI"),r((e=>[...e,{text:"I apologize, but I'm having trouble connecting right now. Please try again later.",isUser:!1}]))}finally{o(!1),c("")}}},className:"w-100",children:Object(at.jsxs)(Mt.a,{children:[Object(at.jsx)(Ze.a.Control,{type:"text",placeholder:"Type your message...",value:s,onChange:e=>c(e.target.value),disabled:i}),Object(at.jsx)(et.a,{type:"submit",variant:"primary",disabled:i,children:Object(at.jsx)(Xe.e,{})})]})})})]})]})},ea=a(138);var ta=function(e){let{value:t,text:a,color:n}=e;return Object(at.jsxs)("div",{className:"rating",children:[Object(at.jsx)("span",{children:Object(at.jsx)("i",{style:{color:n},className:t>=1?"fas fa-star":t>=.5?"fas fa-star-half-alt":"far fa-star"})}),Object(at.jsx)("span",{children:Object(at.jsx)("i",{style:{color:n},className:t>=2?"fas fa-star":t>=1.5?"fas fa-star-half-alt":"far fa-star"})}),Object(at.jsx)("span",{children:Object(at.jsx)("i",{style:{color:n},className:t>=3?"fas fa-star":t>=2.5?"fas fa-star-half-alt":"far fa-star"})}),Object(at.jsx)("span",{children:Object(at.jsx)("i",{style:{color:n},className:t>=4?"fas fa-star":t>=3.5?"fas fa-star-half-alt":"far fa-star"})}),Object(at.jsx)("span",{children:Object(at.jsx)("i",{style:{color:n},className:t>=5?"fas fa-star":t>=4.5?"fas fa-star-half-alt":"far fa-star"})}),Object(at.jsx)("span",{children:a||""})]})};var aa=function(e){let{product:t}=e;return Object(at.jsxs)(ea.a,{className:"my-3 p-3 rounded",children:[Object(at.jsx)(Ct.Link,{to:"/product/".concat(t._id),children:Object(at.jsx)(ea.a.Img,{src:t.image})}),Object(at.jsxs)(ea.a.Body,{children:[Object(at.jsx)(Ct.Link,{to:"/product/".concat(t._id),children:Object(at.jsx)(ea.a.Title,{as:"div",children:Object(at.jsx)("strong",{children:t.name})})}),Object(at.jsx)(ea.a.Text,{as:"div",children:Object(at.jsx)(ta,{value:t.rating,text:"".concat(t.numReviews," reviews"),color:"#f8e825"})}),Object(at.jsxs)(ea.a.Text,{as:"h3",children:["$",t.price]})]})]})},na=a(85);function ra(){return Object(at.jsx)(na.a,{animation:"border",role:"status",style:{height:"100px",width:"100px",margin:"auto",display:"block"},children:Object(at.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}var sa=a(139);var ca=function(e){let{page:t,pages:a,keyword:n="",isAdmin:r=!1}=e;return n&&(n=n.split("?keyword=")[1].split("&")[0]),a>1&&Object(at.jsx)(sa.a,{children:[...Array(a).keys()].map((e=>Object(at.jsx)($e.LinkContainer,{to:r?"/admin/productlist//?keyword=".concat(n,"&page=").concat(e+1):"/?keyword=".concat(n,"&page=").concat(e+1),children:Object(at.jsx)(sa.a.Item,{active:e+1===t,children:e+1})},e+1)))})},ia=a(135),oa=a(130);const da=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return async t=>{try{t({type:j});const{data:a}=await Je.a.get("/api/products".concat(e));t({type:b,payload:a})}catch(a){t({type:p,payload:a.response&&a.response.data.detail?a.response.data.detail:a.message})}}},la=e=>async t=>{try{t({type:h});const{data:a}=await Je.a.get("/api/products/".concat(e));t({type:O,payload:a})}catch(a){t({type:u,payload:a.response&&a.response.data.detail?a.response.data.detail:a.message})}};var ja=function(){const e=Object(c.b)(),t=Object(c.c)((e=>e.productTopRated)),{error:a,loading:r,products:s}=t;return Object(n.useEffect)((()=>{e((async e=>{try{e({type:k});const{data:t}=await Je.a.get("/api/products/top/");e({type:T,payload:t})}catch(a){e({type:P,payload:a.response&&a.response.data.detail?a.response.data.detail:a.message})}}))}),[e]),r?Object(at.jsx)(ra,{}):a?Object(at.jsx)(Yt,{variant:"danger",children:a}):Object(at.jsx)(ia.a,{pause:"hover",className:"bg-dark",children:s.map((e=>Object(at.jsx)(ia.a.Item,{children:Object(at.jsxs)(Ct.Link,{to:"/product/".concat(e._id),children:[Object(at.jsx)(oa.a,{src:e.image,alt:e.name,fluid:!0}),Object(at.jsx)(ia.a.Caption,{className:"carousel.caption",children:Object(at.jsxs)("h4",{children:[e.name," ($",e.price,")"]})})]})},e._id)))})};var ba=function(e){let{history:t}=e;const a=Object(c.b)(),r=Object(c.c)((e=>e.productList)),{products:s,page:i,pages:o,loading:d,error:l}=r;let j=t.location.search;return Object(n.useEffect)((()=>{a(da(j))}),[a,j]),Object(at.jsxs)("div",{children:[!j&&Object(at.jsx)(ja,{}),Object(at.jsx)("h1",{children:"Latest Products"}),d?Object(at.jsx)(ra,{}):l?Object(at.jsx)(Yt,{variant:"danger",children:l}):Object(at.jsxs)("div",{children:[Object(at.jsx)(St.a,{children:s.map((e=>Object(at.jsx)(It.a,{sm:12,md:6,lg:4,xl:3,children:Object(at.jsx)(aa,{product:e})},e._id)))}),Object(at.jsx)(ca,{page:i,pages:o,keyword:j})]})]})},pa=a(140);var ha=function(e){let{match:t,history:a}=e;const[r,s]=Object(n.useState)(1),[i,o]=Object(n.useState)(0),[d,l]=Object(n.useState)(""),j=Object(c.b)(),b=Object(c.c)((e=>e.productDetails)),{product:p,loading:h,error:O}=b,u=Object(c.c)((e=>e.userLogin)),{userInfo:x}=u,m=Object(c.c)((e=>e.productReviewCreate)),{success:g,loading:y,error:f}=m;return Object(n.useEffect)((()=>{g&&(o(0),l(""),j({type:A})),j(la(t.params.id))}),[j,t,g]),Object(at.jsxs)("div",{children:[Object(at.jsx)(Ct.Link,{to:"/",className:"btn btn-light my-3",children:"Go Back"}),h?Object(at.jsx)(ra,{}):O?Object(at.jsx)(Yt,{variant:"danger",children:O}):Object(at.jsxs)("div",{children:[Object(at.jsxs)(St.a,{children:[Object(at.jsx)(It.a,{md:6,children:Object(at.jsx)(oa.a,{src:p.image,alt:p.name,fluid:!0})}),Object(at.jsx)(It.a,{md:3,children:Object(at.jsxs)(pa.a,{variant:"flush",children:[Object(at.jsx)(pa.a.Item,{children:Object(at.jsx)("h3",{children:p.name})}),Object(at.jsx)(pa.a.Item,{children:Object(at.jsx)(ta,{value:p.rating,text:"".concat(p.numReviews," reviews"),color:"#f8e825"})}),Object(at.jsxs)(pa.a.Item,{children:["Price: $",p.price]}),Object(at.jsxs)(pa.a.Item,{children:["Description: ",p.description]})]})}),Object(at.jsx)(It.a,{children:Object(at.jsx)(ea.a,{children:Object(at.jsxs)(pa.a,{variant:"flush",children:[Object(at.jsx)(pa.a.Item,{children:Object(at.jsxs)(St.a,{children:[Object(at.jsx)(It.a,{children:"Price:"}),Object(at.jsx)(It.a,{children:Object(at.jsxs)("strong",{children:["$",p.price]})})]})}),Object(at.jsx)(pa.a.Item,{children:Object(at.jsxs)(St.a,{children:[Object(at.jsx)(It.a,{children:"Status:"}),Object(at.jsx)(It.a,{children:p.countInStock>0?"In Stock":"Out of Stock"})]})}),p.countInStock>0&&Object(at.jsx)(pa.a.Item,{children:Object(at.jsxs)(St.a,{children:[Object(at.jsx)(It.a,{children:"Qty"}),Object(at.jsx)(It.a,{xs:"auto",className:"my-1",children:Object(at.jsx)(Ze.a.Control,{as:"select",value:r,onChange:e=>s(e.target.value),children:[...Array(p.countInStock).keys()].map((e=>Object(at.jsx)("option",{value:e+1,children:e+1},e+1)))})})]})}),Object(at.jsx)(pa.a.Item,{children:Object(at.jsx)(et.a,{className:"w-100",disabled:0===p.countInStock,type:"button",onClick:()=>{a.push("/cart/".concat(t.params.id,"?qty=").concat(r))},children:"Add to Cart"})})]})})})]}),Object(at.jsx)(St.a,{children:Object(at.jsxs)(It.a,{md:6,children:[Object(at.jsx)("h4",{className:"mt-3",children:"Reviews"}),0===p.reviews.length&&Object(at.jsx)(Yt,{variant:"info",children:"No Reviews"}),Object(at.jsxs)(pa.a,{variant:"flush",children:[p.reviews.map((e=>Object(at.jsxs)(pa.a.Item,{children:[Object(at.jsx)("strong",{children:e.name}),Object(at.jsx)(ta,{value:e.rating,color:"f8e825"}),Object(at.jsx)("p",{children:e.createdAt.substring(0,10)}),Object(at.jsx)("p",{children:e.comment})]},e._id))),Object(at.jsxs)(pa.a.Item,{children:[Object(at.jsx)("h4",{children:"Write a Review"}),y&&Object(at.jsx)(ra,{}),g&&Object(at.jsx)(Yt,{variant:"success",children:"Review Submitted"}),f&&Object(at.jsx)(Yt,{variant:"danger",children:f}),x?Object(at.jsxs)(Ze.a,{onSubmit:e=>{var a,n;e.preventDefault(),j((a=t.params.id,n={rating:i,comment:d},async(e,t)=>{try{e({type:R});const{userLogin:{userInfo:r}}=t(),s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r.token)}},{data:c}=await Je.a.post("/api/products/".concat(a,"/reviews/"),n,s);e({type:L,payload:c})}catch(O){e({type:w,payload:O.response&&O.response.data.detail?O.response.data.detail:O.message})}}))},children:[Object(at.jsxs)(Ze.a.Group,{controlId:"rating",children:[Object(at.jsx)(Ze.a.Label,{children:"Rating"}),Object(at.jsxs)(Ze.a.Control,{as:"select",value:i,onChange:e=>o(e.target.value),children:[Object(at.jsx)("option",{value:"",children:"Select..."}),Object(at.jsx)("option",{value:"1",children:"1 - Poor"}),Object(at.jsx)("option",{value:"2",children:"2 - Fair"}),Object(at.jsx)("option",{value:"3",children:"3 - Good"}),Object(at.jsx)("option",{value:"4",children:"4 - Very Good"}),Object(at.jsx)("option",{value:"5",children:"5 - Excellent"})]})]}),Object(at.jsxs)(Ze.a.Group,{controlId:"comment",children:[Object(at.jsx)(Ze.a.Label,{children:"Review"}),Object(at.jsx)(Ze.a.Control,{as:"textarea",row:"5",value:d,onChange:e=>l(e.target.value)})]}),Object(at.jsx)(et.a,{disabled:y,type:"submit",variant:"primary",className:"my-3",children:"Submit"})]}):Object(at.jsxs)(Yt,{variant:"info",children:["Please ",Object(at.jsx)(Ct.Link,{to:"/login",children:"Login"})," to write a review."]})]})]})]})})]})]})};const Oa=(e,t)=>async(a,n)=>{const{data:r}=await Je.a.get("/api/products/".concat(e));a({type:D,payload:{product:r._id,name:r.name,image:r.image,price:r.price,countInStock:r.countInStock,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(n().cart.cartItems))};var ua=function(e){let{match:t,location:a,history:r}=e;const s=t.params.id,i=a.search?Number(a.search.split("=")[1]):1,o=Object(c.b)();Object(n.useEffect)((()=>{s&&o(Oa(s,i))}),[o,s,i]);const d=Object(c.c)((e=>e.cart)),{cartItems:l}=d,j=e=>{o((e=>(t,a)=>{t({type:U,payload:e}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems))})(e))};return Object(at.jsxs)(St.a,{children:[Object(at.jsxs)(It.a,{md:8,children:[Object(at.jsx)("h1",{children:"Shopping Cart"}),0===l.length?Object(at.jsxs)(Yt,{variant:"info",children:["Your cart is empty. ",Object(at.jsx)(Ct.Link,{to:"/",children:"Go Back"})]}):Object(at.jsx)(pa.a,{variant:"flush",children:l.map((e=>Object(at.jsx)(pa.a.Item,{children:Object(at.jsxs)(St.a,{children:[Object(at.jsx)(It.a,{md:2,children:Object(at.jsx)(oa.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(at.jsx)(It.a,{m:3,children:Object(at.jsx)(Ct.Link,{to:"/product/".concat(e.product),children:e.name})}),Object(at.jsxs)(It.a,{children:["$",e.price]}),Object(at.jsx)(It.a,{md:3,children:Object(at.jsx)(Ze.a.Control,{as:"select",value:e.qty,onChange:t=>o(Oa(e.product,Number(t.target.value))),children:[...Array(e.countInStock).keys()].map((e=>Object(at.jsx)("option",{value:e+1,children:e+1},e+1)))})}),Object(at.jsx)(It.a,{md:1,children:Object(at.jsx)(et.a,{type:"button",variant:"light",onClick:()=>j(e.product),children:Object(at.jsx)("i",{className:"fas fa-trash"})})})]})},e.product)))})]}),Object(at.jsx)(It.a,{md:4,children:Object(at.jsxs)(ea.a,{children:[Object(at.jsx)(pa.a,{variant:"flush",children:Object(at.jsxs)(pa.a.Item,{children:[Object(at.jsxs)("h2",{children:["Subtotal (",l.reduce(((e,t)=>e+t.qty),0),") items"]}),"$",l.reduce(((e,t)=>e+t.qty*t.price),0).toFixed(2)]})}),Object(at.jsx)(pa.a.Item,{children:Object(at.jsx)(et.a,{type:"button",className:"w-100",disabled:0===l.length,onClick:()=>{r.push("/login?redirect=shipping")},children:"Proceed To Checkout"})})]})})]})};var xa=function(e){let{children:t}=e;return Object(at.jsx)(ze.a,{children:Object(at.jsx)(St.a,{className:"justify-content-md-center",children:Object(at.jsx)(It.a,{xs:12,md:6,children:t})})})};var ma=function(e){let{location:t,history:a}=e;const[r,s]=Object(n.useState)(""),[i,o]=Object(n.useState)(""),d=Object(c.b)(),l=t.search?t.search.split("=")[1]:"/",j=Object(c.c)((e=>e.userLogin)),{userInfo:b,loading:p,error:h}=j;return Object(n.useEffect)((()=>{b&&a.push(l)}),[a,b,l]),Object(at.jsxs)(xa,{children:[Object(at.jsx)("h1",{children:"Sign In"}),h&&Object(at.jsx)(Yt,{variant:"danger",children:h}),p&&Object(at.jsx)(ra,{}),Object(at.jsxs)(Ze.a,{onSubmit:e=>{e.preventDefault(),d(((e,t)=>async a=>{try{a({type:z});const n={headers:{"Content-type":"application/json"}},{data:r}=await Je.a.post("/api/users/login/",{username:e,password:t},n);a({type:B,payload:r}),localStorage.setItem("userInfo",JSON.stringify(r))}catch(h){a({type:M,payload:h.response&&h.response.data.detail?h.response.data.detail:h.message})}})(r,i))},children:[Object(at.jsxs)(Ze.a.Group,{controlId:"email",children:[Object(at.jsx)(Ze.a.Label,{children:"Email Address"}),Object(at.jsx)(Ze.a.Control,{type:"email",placeholder:"Enter Email",value:r,onChange:e=>s(e.target.value)})]}),Object(at.jsxs)(Ze.a.Group,{controlId:"password",children:[Object(at.jsx)(Ze.a.Label,{children:"Password"}),Object(at.jsx)(Ze.a.Control,{type:"password",placeholder:"Enter Password",value:i,onChange:e=>o(e.target.value)})]}),Object(at.jsx)(et.a,{type:"submit",variant:"primary",className:"mt-3",children:"Sign In"})]}),Object(at.jsx)(St.a,{className:"py-3",children:Object(at.jsxs)(It.a,{children:["New Customer ?"," ",Object(at.jsx)(Ct.Link,{to:l?"/register?redirect=".concat(l):"/register",children:"Register"})]})})]})};var ga=function(e){let{location:t,history:a}=e;const[r,s]=Object(n.useState)(""),[i,o]=Object(n.useState)(""),[d,l]=Object(n.useState)(""),[j,b]=Object(n.useState)(""),[p,h]=Object(n.useState)(""),O=Object(c.b)(),u=t.search?t.search.split("=")[1]:"/",x=Object(c.c)((e=>e.userRegister)),{userInfo:m,loading:g,error:y}=x;return Object(n.useEffect)((()=>{m&&a.push(u)}),[a,m,u]),Object(at.jsxs)(xa,{children:[Object(at.jsx)("h1",{children:"Register"}),p&&Object(at.jsx)(Yt,{variant:"danger",children:p}),y&&Object(at.jsx)(Yt,{variant:"danger",children:y}),g&&Object(at.jsx)(ra,{}),Object(at.jsxs)(Ze.a,{onSubmit:e=>{e.preventDefault(),d!==j?h("Passwords do not match"):O(((e,t,a)=>async n=>{try{n({type:Y});const r={headers:{"Content-type":"application/json"}},{data:s}=await Je.a.post("/api/users/register/",{name:e,email:t,password:a},r);n({type:q,payload:s}),n({type:B,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s))}catch(y){n({type:$,payload:y.response&&y.response.data.detail?y.response.data.detail:y.message})}})(r,i,d))},children:[Object(at.jsxs)(Ze.a.Group,{controlId:"name",children:[Object(at.jsx)(Ze.a.Label,{children:"Name"}),Object(at.jsx)(Ze.a.Control,{required:!0,type:"name",placeholder:"Enter Name",value:r,onChange:e=>s(e.target.value)})]}),Object(at.jsxs)(Ze.a.Group,{controlId:"email",children:[Object(at.jsx)(Ze.a.Label,{children:"Email Address"}),Object(at.jsx)(Ze.a.Control,{required:!0,type:"email",placeholder:"Enter Email",value:i,onChange:e=>o(e.target.value)})]}),Object(at.jsxs)(Ze.a.Group,{controlId:"password",children:[Object(at.jsx)(Ze.a.Label,{children:"Password"}),Object(at.jsx)(Ze.a.Control,{required:!0,type:"password",placeholder:"Enter Password",value:d,onChange:e=>l(e.target.value)})]}),Object(at.jsxs)(Ze.a.Group,{controlId:"passwordConfirm",children:[Object(at.jsx)(Ze.a.Label,{children:"Confirm Password"}),Object(at.jsx)(Ze.a.Control,{required:!0,type:"password",placeholder:"Confirm Password",value:j,onChange:e=>b(e.target.value)})]}),Object(at.jsx)(et.a,{type:"submit",variant:"primary",className:"mt-3",children:"Register"})]}),Object(at.jsx)(St.a,{className:"py-3",children:Object(at.jsxs)(It.a,{children:["Have an Account ?"," ",Object(at.jsx)(Ct.Link,{to:u?"/login?redirect=".concat(u):"/login",children:"Sign In"})]})})]})},ya=a(131);var fa=function(e){let{history:t}=e;const[a,r]=Object(n.useState)(""),[s,i]=Object(n.useState)(""),[o,d]=Object(n.useState)(""),[l,j]=Object(n.useState)(""),[b,p]=Object(n.useState)(""),h=Object(c.b)(),O=Object(c.c)((e=>e.userDetails)),{user:u,loading:x,error:m}=O,g=Object(c.c)((e=>e.userLogin)),{userInfo:y}=g,f=Object(c.c)((e=>e.userUpdateProfle)),{success:v}=f,E=Object(c.c)((e=>e.orderListMy)),{loading:S,error:I,orders:C}=E;return Object(n.useEffect)((()=>{y?u&&u.name&&!v&&y._id===u._id?(r(u.name),i(u.email)):(h({type:ee}),h(He("profile")),h((async(e,t)=>{try{e({type:Ee});const{userLogin:{userInfo:a}}=t(),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},{data:r}=await Je.a.get("/api/orders/myorders/",n);e({type:Se,payload:r})}catch(m){e({type:Ie,payload:m.response&&m.response.data.detail?m.response.data.detail:m.message})}}))):t.push("/login")}),[h,t,y,u,v]),Object(at.jsxs)(St.a,{children:[Object(at.jsxs)(It.a,{md:3,children:[Object(at.jsx)("h2",{children:"User Profile"}),b&&Object(at.jsx)(Yt,{variant:"danger",children:b}),m&&Object(at.jsx)(Yt,{variant:"danger",children:m}),x&&Object(at.jsx)(ra,{}),Object(at.jsxs)(Ze.a,{onSubmit:e=>{e.preventDefault(),o!==l?p("Passwords do not match"):(h((e=>async(t,a)=>{try{t({type:X});const{userLogin:{userInfo:n}}=a(),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},{data:s}=await Je.a.put("/api/users/profile/update",e,r);t({type:K,payload:s}),t({type:B,payload:s}),localStorage.setItem("userInfo",JSON.stringify(s))}catch(m){t({type:Z,payload:m.response&&m.response.data.detail?m.response.data.detail:m.message})}})({id:u._id,name:a,email:s,password:o})),p(""))},children:[Object(at.jsxs)(Ze.a.Group,{controlId:"name",children:[Object(at.jsx)(Ze.a.Label,{children:"Name"}),Object(at.jsx)(Ze.a.Control,{required:!0,type:"name",placeholder:"Enter Name",value:a,onChange:e=>r(e.target.value)})]}),Object(at.jsxs)(Ze.a.Group,{controlId:"email",children:[Object(at.jsx)(Ze.a.Label,{children:"Email Address"}),Object(at.jsx)(Ze.a.Control,{required:!0,type:"email",placeholder:"Enter Email",value:s,onChange:e=>i(e.target.value)})]}),Object(at.jsxs)(Ze.a.Group,{controlId:"password",children:[Object(at.jsx)(Ze.a.Label,{children:"Password"}),Object(at.jsx)(Ze.a.Control,{type:"password",placeholder:"Enter Password",value:o,onChange:e=>d(e.target.value)})]}),Object(at.jsxs)(Ze.a.Group,{controlId:"passwordConfirm",children:[Object(at.jsx)(Ze.a.Label,{children:"Confirm Password"}),Object(at.jsx)(Ze.a.Control,{type:"password",placeholder:"Confirm Password",value:l,onChange:e=>j(e.target.value)})]}),Object(at.jsx)(et.a,{type:"submit",variant:"primary",className:"mt-3",children:"Update"})]})]}),Object(at.jsxs)(It.a,{md:9,children:[Object(at.jsx)("h2",{children:"My Orders"}),S?Object(at.jsx)(ra,{}):I?Object(at.jsx)(Yt,{variant:"danger",children:I}):Object(at.jsxs)(ya.a,{striped:!0,responsive:!0,className:"table-sm",children:[Object(at.jsx)("thead",{children:Object(at.jsxs)("tr",{children:[Object(at.jsx)("th",{children:"ID"}),Object(at.jsx)("th",{children:"Date"}),Object(at.jsx)("th",{children:"Total"}),Object(at.jsx)("th",{children:"Paid"}),Object(at.jsx)("th",{children:"Delivered"})]})}),Object(at.jsx)("tbody",{children:C.map((e=>Object(at.jsxs)("tr",{children:[Object(at.jsx)("td",{children:e._id}),Object(at.jsx)("td",{children:e.createdAt?e.createdAt.substring(0,10):null}),Object(at.jsxs)("td",{children:["$",e.totalPrice]}),Object(at.jsx)("td",{children:e.isPaid?e.paidAt?e.paidAt.substring(0,10):null:Object(at.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(at.jsx)("td",{children:Object(at.jsx)($e.LinkContainer,{to:"/order/".concat(e._id),children:Object(at.jsx)(et.a,{className:"btn-sm",children:"Details"})})})]},e._id)))})]})]})]})};var va=function(e){let{step1:t,step2:a,step3:n,step4:r}=e;return Object(at.jsxs)(Qe.a,{className:"justify-content-center mb-4",children:[Object(at.jsx)(Qe.a.Item,{children:t?Object(at.jsx)($e.LinkContainer,{to:"/login",children:Object(at.jsx)(Qe.a.Link,{children:"Login"})}):Object(at.jsx)(Qe.a.Link,{disabled:!0,children:"Login"})}),Object(at.jsx)(Qe.a.Item,{children:a?Object(at.jsx)($e.LinkContainer,{to:"/shipping",children:Object(at.jsx)(Qe.a.Link,{children:"Shipping"})}):Object(at.jsx)(Qe.a.Link,{disabled:!0,children:"Shipping"})}),Object(at.jsx)(Qe.a.Item,{children:n?Object(at.jsx)($e.LinkContainer,{to:"/payment",children:Object(at.jsx)(Qe.a.Link,{children:"Payment"})}):Object(at.jsx)(Qe.a.Link,{disabled:!0,children:"Payment"})}),Object(at.jsx)(Qe.a.Item,{children:r?Object(at.jsx)($e.LinkContainer,{to:"/placeorder",children:Object(at.jsx)(Qe.a.Link,{children:"Place Order"})}):Object(at.jsx)(Qe.a.Link,{disabled:!0,children:"Place Order"})})]})};var Ea=function(e){let{history:t}=e;const a=Object(c.c)((e=>e.cart)),{shippingAddress:r}=a,[s,i]=Object(n.useState)(r.address),[o,d]=Object(n.useState)(r.city),[l,j]=Object(n.useState)(r.postalCode),[b,p]=Object(n.useState)(r.country),h=Object(c.b)();return Object(at.jsxs)(xa,{children:[Object(at.jsx)(va,{step1:!0,step2:!0}),Object(at.jsx)("h1",{children:"Shipping"}),Object(at.jsxs)(Ze.a,{onSubmit:e=>{var a;e.preventDefault(),h((a={address:s,city:o,postalCode:l,country:b},e=>{e({type:N,payload:a}),localStorage.setItem("shippingAddress",JSON.stringify(a))})),t.push("./payment")},children:[Object(at.jsxs)(Ze.a.Group,{controlId:"address",children:[Object(at.jsx)(Ze.a.Label,{children:"Address"}),Object(at.jsx)(Ze.a.Control,{required:!0,type:"text",placeholder:"Enter Address",value:s||"",onChange:e=>i(e.target.value)})]}),Object(at.jsxs)(Ze.a.Group,{controlId:"city",children:[Object(at.jsx)(Ze.a.Label,{children:"City"}),Object(at.jsx)(Ze.a.Control,{required:!0,type:"text",placeholder:"Enter City",value:o||"",onChange:e=>d(e.target.value)})]}),Object(at.jsxs)(Ze.a.Group,{controlId:"postalCode",children:[Object(at.jsx)(Ze.a.Label,{children:"Postal Code"}),Object(at.jsx)(Ze.a.Control,{required:!0,type:"text",placeholder:"Enter Postal Code",value:l||"",onChange:e=>j(e.target.value)})]}),Object(at.jsxs)(Ze.a.Group,{controlId:"country",children:[Object(at.jsx)(Ze.a.Label,{children:"Country"}),Object(at.jsx)(Ze.a.Control,{required:!0,type:"text",placeholder:"Enter Country",value:b||"",onChange:e=>p(e.target.value)})]}),Object(at.jsx)(et.a,{className:"my-3",type:"submit",variant:"primary",children:"Continue"})]})]})};var Sa=function(e){let{history:t}=e;const a=Object(c.c)((e=>e.cart)),{shippingAddress:r}=a,[s,i]=Object(n.useState)("PayPal");r.address||t.push("./shipping");const o=Object(c.b)();return Object(at.jsxs)(xa,{children:[Object(at.jsx)(va,{step1:!0,step2:!0,step3:!0}),Object(at.jsxs)(Ze.a,{onSubmit:e=>{var a;e.preventDefault(),o((a=s,e=>{e({type:F,payload:a}),localStorage.setItem("paymentMethod",JSON.stringify(a))})),t.push("/placeorder")},children:[Object(at.jsxs)(Ze.a.Group,{children:[Object(at.jsx)(Ze.a.Label,{as:"legend",children:"Select Method"}),Object(at.jsx)(It.a,{children:Object(at.jsx)(Ze.a.Check,{type:"radio",label:"PayPal or Credit Card",id:"paypal",name:"paymentMethod",checked:!0,onChange:e=>i(e.target.value)})})]}),Object(at.jsx)(et.a,{type:"submit",variant:"primary",className:"my-3",children:"Continue"})]})]})};var Ia=function(e){let{history:t}=e;const a=Object(c.b)(),r=Object(c.c)((e=>e.orderCreate)),{order:s,error:i,success:o}=r,d=Object(c.c)((e=>e.cart));return d.itemsPrice=d.cartItems.reduce(((e,t)=>e+t.price*t.qty),0).toFixed(2),d.shippingPrice=(d.itemsPrice>100?0:10).toFixed(2),d.taxPrice=Number(.082*d.itemsPrice).toFixed(2),d.totalPrice=(Number(d.itemsPrice)+Number(d.shippingPrice)+Number(d.taxPrice)).toFixed(2),d.paymentMethod||t.push("/payment"),Object(n.useEffect)((()=>{o&&(t.push("/order/".concat(s._id)),a({type:Oe}))}),[o,t]),Object(at.jsxs)("div",{children:[Object(at.jsx)(va,{step1:!0,step2:!0,step3:!0,step4:!0}),Object(at.jsxs)(St.a,{children:[Object(at.jsx)(It.a,{md:8,children:Object(at.jsxs)(pa.a,{variant:"flush",children:[Object(at.jsxs)(pa.a.Item,{children:[Object(at.jsx)("h2",{children:"Shipping"}),Object(at.jsxs)("p",{children:[Object(at.jsx)("strong",{children:"Shipping Address: "}),d.shippingAddress.address,", ",d.shippingAddress.city,","," ",d.shippingAddress.postalCode,","," ",d.shippingAddress.country]})]}),Object(at.jsxs)(pa.a.Item,{children:[Object(at.jsx)("h2",{children:"Payment"}),Object(at.jsxs)("p",{children:[Object(at.jsx)("strong",{children:"Payment Method: "}),d.paymentMethod]})]}),Object(at.jsxs)(pa.a.Item,{children:[Object(at.jsx)("h2",{children:"Order Items"}),0===d.cartItems.length?Object(at.jsx)(Yt,{variant:"info",children:"Your cart is empty"}):Object(at.jsx)(pa.a,{variant:"flush",children:d.cartItems.map(((e,t)=>Object(at.jsx)(pa.a.Item,{children:Object(at.jsxs)(St.a,{children:[Object(at.jsx)(It.a,{md:1,children:Object(at.jsx)(oa.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(at.jsx)(It.a,{children:Object(at.jsx)(Ct.Link,{to:"/product".concat(e.product),children:e.name})}),Object(at.jsxs)(It.a,{md:4,children:[e.qty," X $",e.price," = $",(e.qty*e.price).toFixed(2)]})]})},t)))})]})]})}),Object(at.jsx)(It.a,{md:4,children:Object(at.jsx)(ea.a,{children:Object(at.jsxs)(pa.a,{variant:"flush",children:[Object(at.jsx)(pa.a.Item,{children:Object(at.jsx)("h2",{children:"Order Summary"})}),Object(at.jsx)(pa.a.Item,{children:Object(at.jsxs)(St.a,{children:[Object(at.jsx)(It.a,{children:"Items:"}),Object(at.jsxs)(It.a,{children:["$",d.itemsPrice]})]})}),Object(at.jsx)(pa.a.Item,{children:Object(at.jsxs)(St.a,{children:[Object(at.jsx)(It.a,{children:"Shipping:"}),Object(at.jsxs)(It.a,{children:["$",d.shippingPrice]})]})}),Object(at.jsx)(pa.a.Item,{children:Object(at.jsxs)(St.a,{children:[Object(at.jsx)(It.a,{children:"Tax:"}),Object(at.jsxs)(It.a,{children:["$",d.taxPrice]})]})}),Object(at.jsx)(pa.a.Item,{children:Object(at.jsxs)(St.a,{children:[Object(at.jsx)(It.a,{children:"Total:"}),Object(at.jsxs)(It.a,{children:["$",d.totalPrice]})]})}),Object(at.jsx)(pa.a.Item,{children:i&&Object(at.jsx)(Yt,{variant:"danger",children:i})}),Object(at.jsx)(pa.a.Item,{children:Object(at.jsx)(et.a,{type:"button",className:"w-100",disabled:0===d.cartItems,onClick:()=>{a((e=>async(t,a)=>{try{t({type:be});const{userLogin:{userInfo:n}}=a(),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},{data:s}=await Je.a.post("/api/orders/add/",e,r);t({type:pe,payload:s}),t({type:G,payload:s}),localStorage.removeItem("cartItems")}catch(i){t({type:he,payload:i.response&&i.response.data.detail?i.response.data.detail:i.message})}})({orderItems:d.cartItems,shippingAddress:d.shippingAddress,paymentMethod:d.paymentMethod,itemsPrice:d.itemsPrice,shippingPrice:d.shippingPrice,taxPrice:d.taxPrice,totalPrice:d.totalPrice}))},children:"Place Order"})})]})})})]})]})},Ca=a(86);var _a=function(e){let{history:t,match:a}=e;const r=a.params.id,s=Object(c.b)(),[i,o]=Object(n.useState)(!1),d=Object(c.c)((e=>e.orderDetails)),{order:l,error:j,loading:b}=d,p=Object(c.c)((e=>e.orderPay)),{loading:h,success:O}=p,u=Object(c.c)((e=>e.orderDeliver)),{loading:x,success:m}=u,g=Object(c.c)((e=>e.userLogin)),{userInfo:y}=g;return b||j||(l.itemsPrice=l.orderItems.reduce(((e,t)=>e+t.price*t.qty),0).toFixed(2)),Object(n.useEffect)((()=>{var e;y||t.push("/login"),!l||O||l._id!==Number(r)||m?(s({type:ve}),s({type:Te}),s((e=r,async(t,a)=>{try{t({type:ue});const{userLogin:{userInfo:n}}=a(),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},{data:s}=await Je.a.get("/api/orders/".concat(e,"/"),r);t({type:xe,payload:s})}catch(j){t({type:me,payload:j.response&&j.response.data.detail?j.response.data.detail:j.message})}}))):l.isPaid||(window.paypal?o(!0):(()=>{const e=document.createElement("script");e.type="text/javascript",e.src="https://www.paypal.com/sdk/js?client-id=AQwGjY47k0Oze6DFyWOBwRYkfAP4Xy7hret5irLlHTQPwanJXl9tfADUBC5KiEs6zCfV9-Ozoxu2DT1s",e.async=!0,e.onload=()=>{o(!0)},document.body.appendChild(e)})())}),[s,l,r,O,m,t,y]),b?Object(at.jsx)(ra,{}):j?Object(at.jsx)(Yt,{variant:"danger",children:j}):Object(at.jsxs)("div",{children:[Object(at.jsxs)("h1",{children:["Order: ",l._id]}),Object(at.jsxs)(St.a,{children:[Object(at.jsx)(It.a,{md:8,children:Object(at.jsxs)(pa.a,{variant:"flush",children:[Object(at.jsxs)(pa.a.Item,{children:[Object(at.jsx)("h2",{children:"Shipping"}),Object(at.jsx)("p",{children:Object(at.jsxs)("strong",{children:["Name: ",l.User.name]})}),Object(at.jsxs)("p",{children:[Object(at.jsx)("strong",{children:"Email: "}),Object(at.jsx)("a",{href:"mailto:".concat(l.User.email),children:l.User.email})]}),Object(at.jsxs)("p",{children:[Object(at.jsx)("strong",{children:"Shipping Address: "}),l.shippingAddress.address,", ",l.shippingAddress.city,","," ",l.shippingAddress.postalCode,","," ",l.shippingAddress.country]}),l.isDeliver?Object(at.jsxs)(Yt,{variant:"success",children:["Delivered on"," ",l.deliveredAt?l.deliveredAt.substring(0,10):null]}):Object(at.jsx)(Yt,{variant:"warning",children:"Not Delivered"})]}),Object(at.jsxs)(pa.a.Item,{children:[Object(at.jsx)("h2",{children:"Payment"}),Object(at.jsxs)("p",{children:[Object(at.jsx)("strong",{children:"Payment Method: "}),l.paymentMethod]}),l.isPaid?Object(at.jsxs)(Yt,{variant:"success",children:["Paid on ",l.paidAt?l.paidAt.substring(0,10):null]}):Object(at.jsx)(Yt,{variant:"warning",children:"Not Paid"})]}),Object(at.jsxs)(pa.a.Item,{children:[Object(at.jsx)("h2",{children:"Order Items"}),0===l.orderItems.length?Object(at.jsx)(Yt,{variant:"info",children:"Order is empty"}):Object(at.jsx)(pa.a,{variant:"flush",children:l.orderItems.map(((e,t)=>Object(at.jsx)(pa.a.Item,{children:Object(at.jsxs)(St.a,{children:[Object(at.jsx)(It.a,{md:1,children:Object(at.jsx)(oa.a,{src:e.image,alt:e.name,fluid:!0,rounded:!0})}),Object(at.jsx)(It.a,{children:Object(at.jsx)(Ct.Link,{to:"/product".concat(e.product),children:e.name})}),Object(at.jsxs)(It.a,{md:4,children:[e.qty," X $",e.price," = $",(e.qty*e.price).toFixed(2)]})]})},t)))})]})]})}),Object(at.jsx)(It.a,{md:4,children:Object(at.jsxs)(ea.a,{children:[Object(at.jsxs)(pa.a,{variant:"flush",children:[Object(at.jsx)(pa.a.Item,{children:Object(at.jsx)("h2",{children:"Order Summary"})}),Object(at.jsx)(pa.a.Item,{children:Object(at.jsxs)(St.a,{children:[Object(at.jsx)(It.a,{children:"Items:"}),Object(at.jsxs)(It.a,{children:["$",l.itemsPrice]})]})}),Object(at.jsx)(pa.a.Item,{children:Object(at.jsxs)(St.a,{children:[Object(at.jsx)(It.a,{children:"Shipping:"}),Object(at.jsxs)(It.a,{children:["$",l.shippingPrice]})]})}),Object(at.jsx)(pa.a.Item,{children:Object(at.jsxs)(St.a,{children:[Object(at.jsx)(It.a,{children:"Tax:"}),Object(at.jsxs)(It.a,{children:["$",l.taxPrice]})]})}),Object(at.jsx)(pa.a.Item,{children:Object(at.jsxs)(St.a,{children:[Object(at.jsx)(It.a,{children:"Total:"}),Object(at.jsxs)(It.a,{children:["$",l.totalPrice]})]})}),!l.isPaid&&Object(at.jsxs)(pa.a.Item,{children:[h&&Object(at.jsx)(ra,{}),i?Object(at.jsx)(Ca.PayPalButton,{amount:l.totalPrice,onSuccess:e=>{s(((e,t)=>async(a,n)=>{try{a({type:ge});const{userLogin:{userInfo:r}}=n(),s={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(r.token)}},{data:c}=await Je.a.put("/api/orders/".concat(e,"/pay/"),t,s);a({type:ye,payload:c})}catch(j){a({type:fe,payload:j.response&&j.response.data.detail?j.response.data.detail:j.message})}})(r,e))}}):Object(at.jsx)(ra,{})]})]}),x&&Object(at.jsx)(ra,{}),y&&y.isAdmin&&l.isPaid&&!l.isDeliver&&Object(at.jsx)(pa.a.Item,{children:Object(at.jsx)(et.a,{type:"button",className:"btn w-100",onClick:()=>{s((e=>async(t,a)=>{try{t({type:we});const{userLogin:{userInfo:n}}=a(),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},{data:s}=await Je.a.put("/api/orders/".concat(e._id,"/deliver/"),{},r);t({type:Ae,payload:s})}catch(j){t({type:ke,payload:j.response&&j.response.data.detail?j.response.data.detail:j.message})}})(l))},children:"Mark As Delivered"})})]})})]})]})};var Ra=function(e){let{history:t}=e;const a=Object(c.b)(),r=Object(c.c)((e=>e.userList)),{users:s,loading:i,error:o}=r,d=Object(c.c)((e=>e.userLogin)),{userInfo:l}=d,j=Object(c.c)((e=>e.userDelete)),{success:b}=j;Object(n.useEffect)((()=>{l&&l.isAdmin?a((async(e,t)=>{try{e({type:te});const{userLogin:{userInfo:a}}=t(),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},{data:r}=await Je.a.get("/api/users/",n);e({type:ae,payload:r})}catch(o){e({type:ne,payload:o.response&&o.response.data.detail?o.response.data.detail:o.message})}})):t.push("/login")}),[a,t,b,l]);const p=e=>{window.confirm("Are you sure you want to delete this user ?")&&a((e=>async(t,a)=>{try{t({type:se});const{userLogin:{userInfo:n}}=a(),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},{data:s}=await Je.a.delete("/api/users/delete/".concat(e),r);t({type:ce,payload:s})}catch(o){t({type:ie,payload:o.response&&o.response.data.detail?o.response.data.detail:o.message})}})(e))};return Object(at.jsxs)("div",{children:[Object(at.jsx)("h1",{children:"Users"}),i?Object(at.jsx)(ra,{}):o?Object(at.jsx)(Yt,{variant:"danger",children:o}):Object(at.jsxs)(ya.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(at.jsx)("thead",{children:Object(at.jsxs)("tr",{children:[Object(at.jsx)("th",{children:"ID"}),Object(at.jsx)("th",{children:"NAME"}),Object(at.jsx)("th",{children:"EMAIL"}),Object(at.jsx)("th",{children:"ADMIN"}),Object(at.jsx)("th",{})]})}),Object(at.jsx)("tbody",{children:s.map((e=>Object(at.jsxs)("tr",{children:[Object(at.jsx)("td",{children:e._id}),Object(at.jsx)("td",{children:e.name}),Object(at.jsx)("td",{children:e.email}),Object(at.jsx)("td",{children:e.isAdmin?Object(at.jsx)("i",{className:"fas fa-check",style:{color:"green"}}):Object(at.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(at.jsxs)("td",{children:[Object(at.jsx)($e.LinkContainer,{to:"/admin/user/".concat(e._id,"/edit"),children:Object(at.jsx)(et.a,{variant:"light",className:"btn-sm",children:Object(at.jsx)("i",{className:"fas fa-edit"})})}),Object(at.jsx)(et.a,{variant:"danger",className:"btn-sm",onClick:()=>p(e._id),children:Object(at.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)))})]})]})};var La=function(e){let{match:t,history:a}=e;const r=t.params.id,[s,i]=Object(n.useState)(""),[o,d]=Object(n.useState)(""),[l,j]=Object(n.useState)(!1),b=Object(c.b)(),p=Object(c.c)((e=>e.userDetails)),{user:h,loading:O,error:u}=p,x=Object(c.c)((e=>e.userUpdate)),{error:m,loading:g,success:y}=x;return Object(n.useEffect)((()=>{y?(b({type:je}),a.push("/admin/userlist")):h.name&&h._id===Number(r)?(i(h.name),d(h.email),j(h.isAdmin)):b(He(r))}),[b,h,r,a,y]),Object(at.jsxs)("div",{children:[Object(at.jsx)(Ct.Link,{to:"/admin/userlist",children:"Go Back"}),Object(at.jsxs)(xa,{children:[Object(at.jsx)("h1",{children:"Edit User"}),g&&Object(at.jsx)(ra,{}),m&&Object(at.jsx)(Yt,{variant:"danger",children:m}),O?Object(at.jsx)(ra,{}):u?Object(at.jsx)(Yt,{variant:"danger",children:u}):Object(at.jsxs)(Ze.a,{onSubmit:e=>{e.preventDefault(),b((e=>async(t,a)=>{try{t({type:oe});const{userLogin:{userInfo:n}}=a(),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},{data:s}=await Je.a.put("/api/users/update/".concat(e._id,"/"),e,r);t({type:de}),t({type:J,payload:s})}catch(u){t({type:le,payload:u.response&&u.response.data.detail?u.response.data.detail:u.message})}})({_id:h._id,name:s,email:o,isAdmin:l}))},children:[Object(at.jsxs)(Ze.a.Group,{controlId:"name",children:[Object(at.jsx)(Ze.a.Label,{children:"Name"}),Object(at.jsx)(Ze.a.Control,{type:"name",placeholder:"Enter Name",value:s,onChange:e=>i(e.target.value)})]}),Object(at.jsxs)(Ze.a.Group,{controlId:"email",children:[Object(at.jsx)(Ze.a.Label,{children:"Email Address"}),Object(at.jsx)(Ze.a.Control,{type:"email",placeholder:"Enter Email",value:o,onChange:e=>d(e.target.value)})]}),Object(at.jsx)(Ze.a.Group,{controlId:"isAdmin",children:Object(at.jsx)(Ze.a.Check,{type:"checkbox",label:"Is Admin",checked:l,onChange:e=>j(e.target.checked)})}),Object(at.jsx)(et.a,{type:"submit",variant:"primary",className:"mt-3",children:"Update"})]})]})]})};var wa=function(e){let{match:t,history:a}=e;const r=Object(c.b)(),s=Object(c.c)((e=>e.productList)),{products:i,pages:o,page:d,loading:l,error:j}=s,b=Object(c.c)((e=>e.productDelete)),{success:p,loading:h,error:O}=b,u=Object(c.c)((e=>e.productCreate)),{product:S,success:I,loading:C,error:_}=u,R=Object(c.c)((e=>e.userLogin)),{userInfo:L}=R;let w=a.location.search;Object(n.useEffect)((()=>{r({type:E}),L.isAdmin||a.push("/login"),I?a.push("/admin/product/".concat(S._id,"/edit")):r(da(w))}),[r,a,L,p,I,S,w]);const A=e=>{window.confirm("Are you sure you want to delete this product ?")&&r((e=>async(t,a)=>{try{t({type:x});const{userLogin:{userInfo:n}}=a(),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},{data:s}=await Je.a.delete("/api/products/delete/".concat(e,"/"),r);t({type:m})}catch(j){t({type:g,payload:j.response&&j.response.data.detail?j.response.data.detail:j.message})}})(e))};return Object(at.jsxs)("div",{children:[Object(at.jsxs)(St.a,{className:"align-items-center",children:[Object(at.jsx)(It.a,{children:Object(at.jsx)("h1",{children:"Products"})}),Object(at.jsx)(It.a,{className:"text-end",children:Object(at.jsxs)(et.a,{className:"my-3",onClick:()=>{r((async(e,t)=>{try{e({type:y});const{userLogin:{userInfo:a}}=t(),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},{data:r}=await Je.a.post("/api/products/create/",{},n);e({type:f,payload:r})}catch(j){e({type:v,payload:j.response&&j.response.data.detail?j.response.data.detail:j.message})}}))},children:[Object(at.jsx)("i",{className:"fas fa-plus"})," Create Product"]})})]}),C&&Object(at.jsx)(ra,{}),_&&Object(at.jsx)(Yt,{variant:"danger",children:_}),h&&Object(at.jsx)(ra,{}),O&&Object(at.jsx)(Yt,{variant:"danger",children:O}),l?Object(at.jsx)(ra,{}):j?Object(at.jsx)(Yt,{variant:"danger",children:j}):Object(at.jsxs)("div",{children:[Object(at.jsxs)(ya.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(at.jsx)("thead",{children:Object(at.jsxs)("tr",{children:[Object(at.jsx)("th",{children:"ID"}),Object(at.jsx)("th",{children:"NAME"}),Object(at.jsx)("th",{children:"PRICE"}),Object(at.jsx)("th",{children:"CATEGORY"}),Object(at.jsx)("th",{children:"BRAND"}),Object(at.jsx)("th",{})]})}),Object(at.jsx)("tbody",{children:i.map((e=>Object(at.jsxs)("tr",{children:[Object(at.jsx)("td",{children:e._id}),Object(at.jsx)("td",{children:e.name}),Object(at.jsxs)("td",{children:["$",e.price]}),Object(at.jsx)("td",{children:e.category}),Object(at.jsx)("td",{children:e.brand}),Object(at.jsxs)("td",{children:[Object(at.jsx)($e.LinkContainer,{to:"/admin/product/".concat(e._id,"/edit"),children:Object(at.jsx)(et.a,{variant:"light",className:"btn-sm",children:Object(at.jsx)("i",{className:"fas fa-edit"})})}),Object(at.jsx)(et.a,{variant:"danger",className:"btn-sm",onClick:()=>A(e._id),children:Object(at.jsx)("i",{className:"fas fa-trash"})})]})]},e._id)))})]}),Object(at.jsx)(ca,{pages:o,page:d,isAdmin:!0})]})]})};var Aa=function(e){let{match:t,history:a}=e;const r=t.params.id,[s,i]=Object(n.useState)(""),[o,d]=Object(n.useState)(0),[l,j]=Object(n.useState)(""),[b,p]=Object(n.useState)(""),[h,u]=Object(n.useState)(""),[x,m]=Object(n.useState)(0),[g,y]=Object(n.useState)(""),[f,v]=Object(n.useState)(!1),E=Object(c.b)(),R=Object(c.c)((e=>e.productDetails)),{product:L,loading:w,error:A}=R,k=Object(c.c)((e=>e.productUpdate)),{success:T,loading:P,error:D}=k;return Object(n.useEffect)((()=>{T?(E({type:_}),a.push("/admin/productlist")):L.name&&L._id===Number(r)?(i(L.name),d(L.price),j(L.image),p(L.brand),u(L.category),m(L.countInStock),y(L.description)):E(la(r))}),[E,L,r,a,T]),Object(at.jsxs)("div",{children:[Object(at.jsx)(Ct.Link,{to:"/admin/productlist",children:"Go Back"}),Object(at.jsxs)(xa,{children:[Object(at.jsx)("h1",{children:"Edit Product"}),P&&Object(at.jsx)(ra,{}),D&&Object(at.jsx)(Yt,{variant:"danger",children:D}),w?Object(at.jsx)(ra,{}):A?Object(at.jsx)(Yt,{variant:"danger",children:A}):Object(at.jsxs)(Ze.a,{onSubmit:e=>{e.preventDefault(),E((e=>async(t,a)=>{try{t({type:S});const{userLogin:{userInfo:n}}=a(),r={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(n.token)}},{data:s}=await Je.a.put("/api/products/update/".concat(e._id,"/"),e,r);t({type:I,payload:s}),t({type:O,payload:s})}catch(A){t({type:C,payload:A.response&&A.response.data.detail?A.response.data.detail:A.message})}})({_id:r,name:s,price:o,image:l,brand:b,category:h,countInStock:x,description:g}))},children:[Object(at.jsxs)(Ze.a.Group,{controlId:"name",children:[Object(at.jsx)(Ze.a.Label,{children:"Name"}),Object(at.jsx)(Ze.a.Control,{type:"name",placeholder:"Enter Name",value:s,onChange:e=>i(e.target.value)})]}),Object(at.jsxs)(Ze.a.Group,{controlId:"price",children:[Object(at.jsx)(Ze.a.Label,{children:"Price"}),Object(at.jsx)(Ze.a.Control,{type:"number",placeholder:"Enter Price",value:o,onChange:e=>d(e.target.value)})]}),Object(at.jsxs)(Ze.a.Group,{controlId:"image",children:[Object(at.jsx)(Ze.a.Label,{children:"Image"}),Object(at.jsx)(Ze.a.Control,{type:"text",placeholder:"Enter Image",value:l,onChange:e=>j(e.target.value)}),Object(at.jsx)(Ze.a.File,{id:"image-file",label:"Choose File",custom:!0,onChange:async e=>{const t=e.target.files[0],a=new FormData;a.append("image",t),a.append("product_id",r),v(!0);try{const e={header:{"Content-Type":"multipart/form-data"}},{data:t}=await Je.a.post("/api/products/upload/",a,e);j(t),v(!1)}catch(A){v(!1)}}}),f&&Object(at.jsx)(ra,{})]}),Object(at.jsxs)(Ze.a.Group,{controlId:"brand",children:[Object(at.jsx)(Ze.a.Label,{children:"Brand"}),Object(at.jsx)(Ze.a.Control,{type:"text",placeholder:"Enter Brand",value:b,onChange:e=>p(e.target.value)})]}),Object(at.jsxs)(Ze.a.Group,{controlId:"countinstock",children:[Object(at.jsx)(Ze.a.Label,{children:"Stock"}),Object(at.jsx)(Ze.a.Control,{type:"number",placeholder:"Enter Stock",value:x,onChange:e=>m(e.target.value)})]}),Object(at.jsxs)(Ze.a.Group,{controlId:"category",children:[Object(at.jsx)(Ze.a.Label,{children:"Category"}),Object(at.jsx)(Ze.a.Control,{type:"text",placeholder:"Enter Category",value:h,onChange:e=>u(e.target.value)})]}),Object(at.jsxs)(Ze.a.Group,{controlId:"description",children:[Object(at.jsx)(Ze.a.Label,{children:"Description"}),Object(at.jsx)(Ze.a.Control,{as:"textarea",placeholder:"Enter Description",value:g,onChange:e=>y(e.target.value)})]}),Object(at.jsx)(et.a,{type:"submit",variant:"primary",className:"mt-3",children:"Update"})]})]})]})};var ka=function(e){let{history:t}=e;const a=Object(c.b)(),r=Object(c.c)((e=>e.orderList)),{orders:s,loading:i,error:o}=r,d=Object(c.c)((e=>e.userLogin)),{userInfo:l}=d;return Object(n.useEffect)((()=>{l&&l.isAdmin?a((async(e,t)=>{try{e({type:_e});const{userLogin:{userInfo:a}}=t(),n={headers:{"Content-type":"application/json",Authorization:"Bearer ".concat(a.token)}},{data:r}=await Je.a.get("/api/orders/",n);e({type:Re,payload:r})}catch(o){e({type:Le,payload:o.response&&o.response.data.detail?o.response.data.detail:o.message})}})):t.push("/login")}),[a,t,l]),Object(at.jsxs)("div",{children:[Object(at.jsx)("h1",{children:"Orders"}),i?Object(at.jsx)(ra,{}):o?Object(at.jsx)(Yt,{variant:"danger",children:o}):Object(at.jsxs)(ya.a,{striped:!0,bordered:!0,hover:!0,responsive:!0,className:"table-sm",children:[Object(at.jsx)("thead",{children:Object(at.jsxs)("tr",{children:[Object(at.jsx)("th",{children:"ID"}),Object(at.jsx)("th",{children:"USER"}),Object(at.jsx)("th",{children:"DATE"}),Object(at.jsx)("th",{children:"TOTAL"}),Object(at.jsx)("th",{children:"PAID"}),Object(at.jsx)("th",{children:"DELIVERED"}),Object(at.jsx)("th",{})]})}),Object(at.jsx)("tbody",{children:s.map((e=>Object(at.jsxs)("tr",{children:[Object(at.jsx)("td",{children:e._id}),Object(at.jsx)("td",{children:e.User&&e.User.name}),Object(at.jsx)("td",{children:e.createdAt&&e.createdAt.substring(0,10)}),Object(at.jsx)("td",{children:e.totalPrice}),Object(at.jsx)("td",{children:e.isPaid?e.paidAt.substring(0,10):Object(at.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(at.jsx)("td",{children:e.isDeliver?e.deliveredAt.substring(0,10):Object(at.jsx)("i",{className:"fas fa-times",style:{color:"red"}})}),Object(at.jsx)("td",{children:Object(at.jsx)($e.LinkContainer,{to:"/order/".concat(e._id),children:Object(at.jsx)(et.a,{variant:"dark",className:"btn-sm",children:"Details"})})})]},e._id)))})]})]})};var Ta=function(){return Object(at.jsxs)(Ct.HashRouter,{children:[Object(at.jsx)(Et,{}),Object(at.jsx)(ze.a,{children:Object(at.jsxs)("main",{className:"py-3",children:[Object(at.jsx)(tt.d,{exact:!0,path:"/",component:ba}),Object(at.jsx)(tt.d,{path:"/login",component:ma}),Object(at.jsx)(tt.d,{path:"/register",component:ga}),Object(at.jsx)(tt.d,{path:"/profile",component:fa}),Object(at.jsx)(tt.d,{path:"/shipping",component:Ea}),Object(at.jsx)(tt.d,{path:"/payment",component:Sa}),Object(at.jsx)(tt.d,{path:"/placeorder",component:Ia}),Object(at.jsx)(tt.d,{path:"/order/:id",component:_a}),Object(at.jsx)(tt.d,{path:"/product/:id",component:ha}),Object(at.jsx)(tt.d,{path:"/cart/:id?",component:ua}),Object(at.jsx)(tt.d,{path:"/admin/userlist",component:Ra}),Object(at.jsx)(tt.d,{path:"/admin/user/:id/edit",component:La}),Object(at.jsx)(tt.d,{path:"/admin/product/:id/edit",component:Aa}),Object(at.jsx)(tt.d,{path:"/admin/productlist",component:wa}),Object(at.jsx)(tt.d,{path:"/admin/orderlist",component:ka})]})}),Object(at.jsx)(zt,{}),Object(at.jsx)(Zt,{})]})};var Pa=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,141)).then((t=>{let{getCLS:a,getFID:n,getFCP:r,getLCP:s,getTTFB:c}=t;a(e),n(e),r(e),s(e),c(e)}))};a(118),a(119);s.a.render(Object(at.jsx)(c.a,{store:Ge,children:Object(at.jsx)(Ta,{})}),document.getElementById("root")),Pa()}},[[120,1,2]]]);
//# sourceMappingURL=main.0da2bca2.chunk.js.map